<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html>
<head>
<!--... Defining UTF-8 as our default character set, so that devanagari is displayed properly. -->
<meta charset="UTF-8">
<!--... Defining CSS -->
<link rel="stylesheet" type="text/css" href="mystyle.css">
<!--... including Ajax jquery. -->
</head> 
<body>
<h1><a href="https://api.github.com/repos/sanskrit-lexicon/CORRECTIONS/issues/3" target="_blank">https://api.github.com/repos/sanskrit-lexicon/CORRECTIONS/issues/3</a></h1><hr/><h2>Title - Extra space in Devanagari rendering</h2><hr/><b><a href='https://github.com/drdhaval2785' target='_blank'>drdhaval2785</a> :</b><br/><b><a href='https://github.com/funderburkjim' target='_blank'>funderburkjim</a> :</b><br/><p>At some places there are extra spaces in Devanagari rendering<br/>e.g. उभयतःप्र उग instead of उभयतःप्रउग.<br/>This is mostly seen in cases of hiatus</p><hr/><b><a href='https://github.com/drdhaval2785' target='_blank'>drdhaval2785</a> :</b><br/><b><a href='https://github.com/drdhaval2785' target='_blank'>drdhaval2785</a> :</b><br/><p>@funderburkjim <br/>As you are now well versed in Hiatus - time to handle this. <br/>A small tweak in transcoder can do this for sure.<br/></p><hr/><b><a href='https://github.com/funderburkjim' target='_blank'>funderburkjim</a> :</b><br/><p>I investigated this for the MW (2014) displays and found the following code as the culprit (in web/webtc/disp.php):<br/>```<br/>//   Rarely two vowels occur consecutively (e.g. afRin).<br/>//   These don't print properly in devanagari.<br/>$key = preg_replace('/([aAiIuIfFxXeEoO])([aAiIuIfFxXeEoO])/'\\\\\1 \\\\2\$key); <br/>```<br/>So apparently several years ago it appeared that there was a problem with rendering consecutive vowels in Devanagari so an extra space was introduced here.<br/><br/>I commented out the $key = ... line and the space goes away.<br/><br/>This should fix this issue for MW.<br/><br/>I had already done the change for MW72 SCH SHS PD AP AP90 <br/><br/>I've done the same just now for VCP SKD PWG PW STC.<br/><br/>If you notice the problem elsewhere let me know.</p><hr/><b><a href='https://github.com/drdhaval2785' target='_blank'>drdhaval2785</a> :</b><br/><p>Seems fine now.<br/>![capture](<a href="https://cloud.githubusercontent.com/assets/5755132/5153054/f8d87628-7237-11e4-917e-98673c7cc29f.PNG)" target="_blank">https://cloud.githubusercontent.com/assets/5755132/5153054/f8d87628-7237-11e4-917e-98673c7cc29f.PNG)</a><br/></p><hr/></body></html>