<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html>
<head>
<!--... Defining UTF-8 as our default character set, so that devanagari is displayed properly. -->
<meta charset="UTF-8">
<!--... Defining CSS -->
<link rel="stylesheet" type="text/css" href="mystyle.css">
<!--... including Ajax jquery. -->
</head> 
<body>
<h1><a href="https://api.github.com/repos/sanskrit-lexicon/CORRECTIONS/issues/42" target="_blank">https://api.github.com/repos/sanskrit-lexicon/CORRECTIONS/issues/42</a></h1><hr/><h2>Title - faultfinder3a</h2><hr/><b><a href='https://github.com/funderburkjim' target='_blank'>funderburkjim</a> :</b><br/><p>This is a continuation of the discussion beginning 3 days ago in <a href="https://github.com/sanskrit-lexicon/CORRECTIONS/issues/39." target="_blank">https://github.com/sanskrit-lexicon/CORRECTIONS/issues/39.</a><br/><br/>There are two dropbox links:<br/>a. faultfinder3a at  <a href="https://dl.dropboxusercontent.com/u/29859999/AllvsMW.zip" target="_blank">https://dl.dropboxusercontent.com/u/29859999/AllvsMW.zip</a><br/><br/>b. sanhw1 at <a href="https://dl.dropboxusercontent.com/u/29859999/sanhw1.zip" target="_blank">https://dl.dropboxusercontent.com/u/29859999/sanhw1.zip</a><br/><br/><H2> refactoring faultfinder3 </H2><br/>faultfinder3a.php now is a command-line program which creates a <b>text</b> file.  Then<br/>faultfinder3a-html.php creates an html file based on the text file.<br/>Here's the invocation used:<br/>```<br/>php faultfinder3a.php MW sanhw1.txt AllvsMW.txt<br/>php faultfinder3a-html.php AllvsMW.txt AllvsMW-new.html<br/>```<br/>The text output AllvsMW.txt contains lines like:<br/>```<br/>SIrzaCeda:VCV=aCe:WILYAT<br/>```<br/>This shows the suspect headword and the dictionaries it is in. Also the middle field <br/>shows  the pattern-abbreviation-type (VCV) = actual-pattern-in-word (aCe).<br/>It should now be easy to <b>filter</b> this text file in various ways to generate more manageable<br/>chunks; For example I think most of the rxx words are not errors but occur simply due to a spelling<br/>convention that MW does not follow (MW being the reference dictionary here);  nearly half of the 9399 lines of AllvsMW.txt are of the rxx type so this seems a useful reduction of the problem. This is<br/>just one example of how the huge problem can be reduced by this refactoring.<br/><br/>Another filter would be to look for words which occur ONLY in one dictionary; e.g there are 375<br/>such for Wilson 230 such for MW72 456 for CCS only 23 remaining in CAE etc.  <br/><br/><i>We can use this issue to develop a list of useful filtered lists and then begin working with the .html files for the various lists.</i><br/><br/>Smaller refactorings:<br/>a. The only data source is sanhw1.txt.  The list of reference headwords (for MW in the example) are <br/>obtained from sanhw1.txt rather than from a separate MWslp.txt file.<br/>b. The pattern and hrefyear data have been moved to a utility file faultfinder3a_utils.php which<br/>   is included in the two main php programs.  The pattern data has also been put into a structure<br/>   which should be easier to modify and is easier to understand.<br/>c. In faultfinder3a-html.php  the links in the output were generated via Javascript as buttons.  This<br/> also makes the html file size smaller and helps localize the programmatic construction of the links.<br/><br/><H2> change sort order in sanhw1 </H2><br/>In response to a request elsewhere  I have changed the sort order appearing in sanhw1.txt.<br/>Now  M+Consonant sorts as if it were N+Consonant where N is the nasal for the varga of the<br/>Consonant; (this does not apply to consonants yrlvSzsh; M before these consonants is unchanged<br/>for sorting).<br/><br/>Also by redoing sanhw1 the list is several hundred less than a week ago due to the many CAE and other headword corrections.<br/><br/></p><hr/><b><a href='https://github.com/drdhaval2785' target='_blank'>drdhaval2785</a> :</b><br/><b><a href='https://github.com/drdhaval2785' target='_blank'>drdhaval2785</a> :</b><br/><p>```I think most of the rxx words are not errors but occur simply due to a spelling<br/>convention that MW does not follow (MW being the reference dictionary here); nearly half of the 9399 lines of AllvsMW.txt are of the rxx type so this seems a useful reduction of the problem. This is<br/>just one example of how the huge problem can be reduced by this refactoring.```<br/><br/>Absolutely true.<br/>and a worthwhile refactoring too.<br/><br/>```Another filter would be to look for words which occur ONLY in one dictionary; e.g there are 375<br/>such for Wilson 230 such for MW72 456 for CCS only 23 remaining in CAE etc```<br/><br/>Yes. I informally use this to screen out no-error headwords. Logic is if a word is there in more than one dictionary chances are less that it may be a wrong word. Makes sense.<br/><br/>```Smaller refactorings:<br/>a. The only data source is sanhw1.txt. The list of reference headwords (for MW in the example) are<br/>obtained from sanhw1.txt rather than from a separate MWslp.txt file.<br/>b. The pattern and hrefyear data have been moved to a utility file faultfinder3a_utils.php which<br/>is included in the two main php programs. The pattern data has also been put into a structure<br/>which should be easier to modify and is easier to understand.<br/>c. In faultfinder3a-html.php the links in the output were generated via Javascript as buttons. This<br/>also makes the html file size smaller and helps localize the programmatic construction of the links.```<br/><br/>I would not term any of theses small. They are great additions / alterations.<br/></p><hr/><b><a href='https://github.com/drdhaval2785' target='_blank'>drdhaval2785</a> :</b><br/><p>Now faultfinder3a package is in the spellcheck repository.</p><hr/><b><a href='https://github.com/drdhaval2785' target='_blank'>drdhaval2785</a> :</b><br/><p>postprocess_scraping.php is now renamed as dictwisesorter.php.<br/><br/>It has been amended to work on CMD mode.<br/>```php dictwisesorter.php AllvsMW-new.html dictwiseerrors1.html```<br/>input from AllvsMW-new.html<br/>Output into dictwiseerrors1.html.<br/><br/>So now the steps are <br/>```<br/>php faultfinder3a.php MW sanhw1.txt AllvsMW.txt<br/>php faultfinder3a-html.php AllvsMW.txt AllvsMW-new.html<br/>php dictwisesorter.php AllvsMW-new.html dictwiseerrors1.html<br/>```<br/><br/>This will give us the needed list to work.<br/>The file size has come down from 19 mb to 3 mb because of @funderburkjim's javascript wizardry so more amenable to opening in a browser.<br/>Now we need to apply our minds to filtering out the refactorings.<br/>Let's think it over.<br/><br/>1 ignore rXX<br/>2 separate list of words occurring in single dictionary.<br/>Let's enumerate more and code for it so that workload decreases.<br/></p><hr/><b><a href='https://github.com/drdhaval2785' target='_blank'>drdhaval2785</a> :</b><br/><p>3 rd addition would be to ignore 'nt' at the end.<br/>I saw many of them in dictionarywiseerrors.html in CAE<br/>e.g. aMSumant - अंशुमन्त् - CAE PWG PW STC<br/>akutsayant - अकुत्सयन्त् - CAE SCH<br/>akurvant - अकुर्वन्त् - CAE CCS PW STC<br/>akopayant - अकोपयन्त् - CAE CCS SCH<br/>akzaRvant - अक्षण्वन्त् - CAE CCS PWG PW<br/>akziRvant - अक्षिण्वन्त् - CAE SCH<br/>agaRayant - अगणयन्त् - CAE CCS SCH STC<br/>aganDavant - अगन्धवन्त् - CAE <br/><br/>We should ignore them. They are also different convention followed by some dictionaries.<br/>But we should device some way to give access to the data by either 'aMSumant' / 'aMSumat' both when a user searches for this word. For a native Indian user 'nt' is too foreign. It is grammatically wrong too. But as many dictionaries have used this convention - doesn't seem great idea to change them to 't'. But access to data should be there for sure.<br/><br/>N.B. - I could not see these patterns being detected in AllvsMW-new.html (generated via faultfinder3a.php). These were there in AllvsMW.html (generated via faultfinder3.php). So @funderburkjim did you do some coding change to ignore such cases already ?<br/> I am not sure.</p><hr/><b><a href='https://github.com/gasyoun' target='_blank'>gasyoun</a> :</b><br/><p>@funderburkjim well done as usual. A few questions / thoughts before going to sleep converted to .xls <a href="https://github.com/sanskrit-lexicon/CORRECTIONS/blob/master/AllvsMW.xls." target="_blank">https://github.com/sanskrit-lexicon/CORRECTIONS/blob/master/AllvsMW.xls.</a><br/>1) \nearly half of the 9399 lines of AllvsMW.txt are of the rxx type\ there is no easy way to sort out the \rxx type\ now.<br/>```<br/>sOvOryya\tsauvauryya\tVCV\tOvO\tSHS<br/>```<br/><br/>Can be found only by `OvO` and not by `ryy` or even `RCC` pattern - that would be even better. We have to develop rules and triggers. To have just `CCC` would not tell much but `RCC` change the game. `ryy` or `rll` does not matters much hope both of you will agree. It's only about the structure.<br/><br/>2) \look for words which occur ONLY in one dictionary\ - it's something I and Dhaval have done in the past. I would only think that there should be an additional column counting the number of sources and using color formatting in .xls or .html. Sorting the number of sources is great? Guess no alphabetical order has it's good sides. Dhaval would it help to have the ones which have only one source with a yellow background?<br/>If only SKD and VCP has a word which none others have that might be fishy as well so even if there are two (similar) that still should trigger another rule. Like only Indian dictionaries or Indian and European sources.<br/><br/>3) I can read VCCCCCV pattern but I need to know if S in SCC is a real life `s`? Or CCE - never seen and do not thing vowels should be differentiated in our case.<br/><br/>4) \But as many dictionaries have used this convention - doesn't seem great idea to change them to 't'. But access to data should be there for sure.\ - it's Boethlink's approach he is guilty for it all. It's called European linguistics. So I guess interlinking takes this task too far. Than we have interlink much more and it grows in something gigantic which I think we are not yet ready to approach even.<br/><br/>5) Please make a repository or upload to an existing one the valuable sanhw1.zip file. Dropbox is for experiments. sanhw1.zip is no longer such it's a huge step for mankind. Let it have it's legal place.</p><hr/><b><a href='https://github.com/funderburkjim' target='_blank'>funderburkjim</a> :</b><br/><p>re 5) 'repository for sanhw1' -  Currently the <i>right</i> spot for sanhw1.txt seems to be in drdhaval2785/SanskritSpellCheck/ repository. <br/><br/> Question:  Is there a way for me to upload just sanhw1.txt to this repository - I think I would have to clone the entire repository in GitHub client and then worry about syncing etc.   To me it seems simpler to simply a dropbox link to Dhaval and let him worry about the syncing.<br/><br/>Another possibility would be to put sanhw1  in the Corrections repository. Since i am responsible currently for maintaining Corrections  this would be straightforward.  But then Dhaval would still need to get it over to where it is needed in SanskritSpellCheck.  <br/><br/>So I'm not sure of the best way to go.<br/><br/><br/><br/></p><hr/><b><a href='https://github.com/funderburkjim' target='_blank'>funderburkjim</a> :</b><br/><p>re 3)  S in SCC   :   Here the 'S' is not a Sanskrit letter but means 'at the start of headword'.  It is the regex '^' at the beginning of a pattern.<br/><br/>Similarly 'E'  in those pattern codes means 'at the end of headword' the regex '$' at end of a pattern.<br/></p><hr/><b><a href='https://github.com/funderburkjim' target='_blank'>funderburkjim</a> :</b><br/><p>re 2) sOvOryya    sauvauryya  VCV OvO SHS.<br/><br/>There are two ways two filter for the 'rxx' words in AllvsMW.txt.<br/>```<br/>1.  \=[^:]*r(.)\\1\        This finds an rxx in the pattern value.  There are 4613 such currently.<br/>2. \r(.)\\1\     This finds an rxx anywhere (e.g. anywhere in a headword). There are 4666 of these.<br/>```<br/>So there are only 53 cases like sOvOryya.   I guess it would better to get rid of the 4613 so we <br/>explicitly keep cases like sOvOryya in the list of suspects.<br/><br/></p><hr/><b><a href='https://github.com/funderburkjim' target='_blank'>funderburkjim</a> :</b><br/><p>@drdhaval2785  re Where are the ants in AllvsMW-new.html?<br/><br/>Since AllvsMW-new.html is generated from AllvsMW.txt the question reverts to : Where are the ants in AllvsMW.txt?<br/><br/>Looking at sanhw1.txt  there are 23 words in MW that end in 'nt'  (two of these end in 'ant').  <br/><i>Since pattern 'nt at end of word' appears in the reference dictionary (MW) no word in any other dictionary will be put in the suspect list (AllvsMW.txt) on the basis of the word ending in 'nt'.</i><br/>(I see 18 words ending in 'nt' in in AllvsMW.txt but they are present for other patterns)<br/><br/>So in conclusion I see no problem with AllvsMW.txt unless there is some problem of the logic of faultfinder that I'm misunderstanding.   <br/><br/>In fact I am puzzled that  (in AllvsMW.html from faultfinder3.php) himavant  (for example) is viewed as suspect.<br/><br/>I cloned the repository and ran faultfinder3.php . I changed only one line in the program line 228<br/>```<br/>                    fputs($outfilegivelink($dictdata[$j]$worddata[$j]).\</br>\\n\);<br/>```<br/>adding the '\\n'  so the output file would have separate lines. In this rerun only 16 lines have an 'ant ' in close agreement with AllvsMW.txt.   This run uses the new version of sanhw1 (which has 2000+ 'ant' words) and the same MWslp.txt.   <br/><br/>Probably there was some oddity in the run that generated the ants in AllvsMW.html and its  not worth spending the time to try to understand that oddity by doing a git rollback.<br/></p><hr/><b><a href='https://github.com/drdhaval2785' target='_blank'>drdhaval2785</a> :</b><br/><p>@funderburkjim <br/>```<br/>re Where are the ants in AllvsMW-new.html?<br/>```<br/>I wanted to trace the problem to silent it. It anyways is silent now. So we absolutely need not bother.<br/><br/></p><hr/><b><a href='https://github.com/drdhaval2785' target='_blank'>drdhaval2785</a> :</b><br/><p>@funderburkjim and @gasyoun <br/>```<br/>2) \look for words which occur ONLY in one dictionary\<br/>```<br/><br/>I guess right now we should remove these r-c-c patterns. This would substantially reduce our file size with nothing to lose.<br/></p><hr/><b><a href='https://github.com/drdhaval2785' target='_blank'>drdhaval2785</a> :</b><br/><p>@gasyoun <br/>```<br/>3) I can read VCCCCCV pattern<br/>```<br/>In most dictionaries the highest consecutive consonants can be kArtsnya. C(VCCCCCV).</p><hr/><b><a href='https://github.com/funderburkjim' target='_blank'>funderburkjim</a> :</b><br/><p>re 'remove r-c-c' patterns for now. Agreed.  </p><hr/><b><a href='https://github.com/drdhaval2785' target='_blank'>drdhaval2785</a> :</b><br/><p>```<br/>re 5) 'repository for sanhw1' - Currently the right spot for sanhw1.txt seems to be in drdhaval2785/SanskritSpellCheck/ repository. <br/>```<br/><br/>Let me tell you @funderburkjim that I may not be the only one using this file. The right position is in corrections repository according to me. I will copy paste from raw data of Github. Not a problematic one.<br/>One more suggestion regarding that file.<br/>Can you add \\r\\n instead of \\n only? Notepad like windows applications run on \\r\\n as endline character. I see everything in single line. Difficult to read.<br/></p><hr/><b><a href='https://github.com/gasyoun' target='_blank'>gasyoun</a> :</b><br/><p>Dhaval Notepad is not intended for that job. Use Notepad ++ EditPlus EmEditor - do not use Notepad please. sanhw1 is not only for corrections but let it live there if Jim agrees. It's not there yet.</p><hr/><b><a href='https://github.com/funderburkjim' target='_blank'>funderburkjim</a> :</b><br/><p>1. Re notepad:  I heartily agree with Gasyoun that file format should not be governed by the deficiencies of Notepad.  So I don't think using the Windows line termination convention (\\r\\n) is a good idea.  <br/><br/>2.  I'll go along with adding sanhw1 to the Corrections repository. Will put it there the next time it is updated.<br/></p><hr/><b><a href='https://github.com/funderburkjim' target='_blank'>funderburkjim</a> :</b><br/><p>sanhw1 added to CORRECTIONS repository.<br/></p><hr/><b><a href='https://github.com/drdhaval2785' target='_blank'>drdhaval2785</a> :</b><br/><p>Using notepad++ now. No issue of \\r\\n survives now. That is closed from my side.</p><hr/><b><a href='https://github.com/drdhaval2785' target='_blank'>drdhaval2785</a> :</b><br/><p>As discussed in <a href="https://github.com/sanskrit-lexicon/CORRECTIONS/issues/42#issuecomment-64976242" target="_blank">https://github.com/sanskrit-lexicon/CORRECTIONS/issues/42#issuecomment-64976242</a> point 2<br/>```<br/>2 separate list of words occurring in single dictionary.<br/>```<br/>The faultfinder3a-html.php has been modified to give list of unique suspicious words by default.<br/><br/>Now we can do <br/>```<br/>php faultfinder3a-html.php AllvsMW.txt AllvsMW-norepeat.html<br/>```<br/>to get [this](<a href="http://drdhaval2785.github.io/AllvsMW-norepeat.html)." target="_blank">http://drdhaval2785.github.io/AllvsMW-norepeat.html).</a><br/>On that file we can do <br/>```<br/>php dictwisesorter.php AllvsMW-norepeat.html dictwiseerrors2.html<br/>```<br/>to get [this](<a href="http://drdhaval2785.github.io/dictwiseerrors2.html)." target="_blank">http://drdhaval2785.github.io/dictwiseerrors2.html).</a><br/>The data has come down to 888 kb from erstwhile 19 MB.<br/><br/>N.B. If you want to get the list with words repeated in dictionaries pass 1 as third argument.<br/>```<br/>php faultfinder3a-html.php AllvsMW.txt AllvsMW-repeat.html 1<br/>```</p><hr/><b><a href='https://github.com/gasyoun' target='_blank'>gasyoun</a> :</b><br/><p>Well done. Was not the part of the word in discussion formatted bold before?</p><hr/><b><a href='https://github.com/drdhaval2785' target='_blank'>drdhaval2785</a> :</b><br/><p>Point 1 of ignoring rCC pattern is also now default.<br/>```<br/>1 ignore rXX<br/>```<br/>Now it is default in faultfinder3a-html.php committed via c78e0a52134da58f42ca356af100423e7bce2e08.<br/><br/>This will give you the result [this](<a href="http://drdhaval2785.github.io/dictwiseerrors3.html)." target="_blank">http://drdhaval2785.github.io/dictwiseerrors3.html).</a><br/><br/>Regarding @gasyoun 's comment <br/>`1) \nearly half of the 9399 lines of AllvsMW.txt are of the rxx type\ there is no easy way to sort out the \rxx type\ now.`<br/>To be precise AllvsMW.txt has 9398 entries and AllvsMW-norepeat.html has around 4400 entries.<br/><br/><br/><br/>N.B. If you intend to keep the words with rCC pattern also pass 2 as third argument.<br/>```<br/>php faultfinder3a-html.php AllvsMW.txt AllvsMW-repeat.html 2<br/>```<br/></p><hr/><b><a href='https://github.com/drdhaval2785' target='_blank'>drdhaval2785</a> :</b><br/><p>Just to note - I have reverted back faultfinder3a-html.php to have href links directly rather than buttons  created via javascript. <br/>Causes - 1. I want to open at least 5-6 tabs before I start exploring it. In the present system - button reopens the new word in the same tab. Not convenient to handle. <br/>Causes 2 - Now the file size is around 900 kb. So much more manageable to direct links. Browser is also happy now.<br/><br/>As there are not much to add in this topic let's close this.<br/></p><hr/><b><a href='https://github.com/drdhaval2785' target='_blank'>drdhaval2785</a> :</b><br/><p>```<br/>Well done. Was not the part of the word in discussion formatted bold before?<br/>```<br/>@gasyoun <br/>No. It was not. But now it has. <a href="http://drdhaval2785.github.io/dictwiseerrors3.html" target="_blank">http://drdhaval2785.github.io/dictwiseerrors3.html</a></p><hr/><b><a href='https://github.com/gasyoun' target='_blank'>gasyoun</a> :</b><br/><p>Bold looks better. I would love to see IAST in addition guess I'm the only one. And table form not just a list.</p><hr/><b><a href='https://github.com/drdhaval2785' target='_blank'>drdhaval2785</a> :</b><br/><p>IAST added [here](<a href="http://drdhaval2785.github.io/dictwiseerrors4.html)." target="_blank">http://drdhaval2785.github.io/dictwiseerrors4.html).</a> But Tables are beyond my HTML capacities.</p><hr/><b><a href='https://github.com/funderburkjim' target='_blank'>funderburkjim</a> :</b><br/><p>A [modification](<a href="https://dl.dropboxusercontent.com/u/29859999/dictwisesorter-v3.php)" target="_blank">https://dl.dropboxusercontent.com/u/29859999/dictwisesorter-v3.php)</a> of dictwisesorter was made so output has tables . <br/><br/>The output is [here](<a href="https://funderburkjim.github.io/dictwiseerrors3-table.html)" target="_blank">https://funderburkjim.github.io/dictwiseerrors3-table.html)</a><br/><br/>Here is the program sequence:<br/>```<br/>php faultfinder3a.php MW sanhw1.txt AllvsMW.txt<br/>php faultfinder3a-html.php AllvsMW.txt AllvsMW-norepeat.html<br/>php dictwisesorter-v3.php AllvsMW-norepeat.html dictwiseerrors3-table.html<br/>```<br/><br/>Comments:<br/><br/><br/>  Thanks for using the github.io  (github project page) .  I had not known it existed.<br/> Ditto for the markup<br/>```<br/>[here](url)<br/>```<br/><br/> I would have factored things a bit differently but yours works so its mostly a difference in styles:<br/>```<br/>php faultfinder3a.php MW sanhw1.txt AllvsMW.txt<br/>php dictwisesorter-vx.php AllvsMW.txt AllvsMW-norepeat.txt   <-- same format as AllvsMW.txt --><br/>php faultfinder3a-html.php AllvsMW-norepeat.txt dictwiseerrors3-table.html   1<br/>   add option to faultfinder3a-html to output in tabular form.  Do the IAST and pattern-highlighting here<br/>```<br/>You could leave the javascript and still get the effect you prefer:<br/>```<br/>Instead of<br/>window.open(href\\\dictionary\\\);<br/>Use<br/>window.open(href\\\_blank\\\);<br/>```<br/> The w3schools site has excellent information on how to do things with html css javascript etc.<br/>including [Html tables](<a href="http://www.w3schools.com/html/html_tables.asp)." target="_blank">http://www.w3schools.com/html/html_tables.asp).</a><br/></p><hr/><b><a href='https://github.com/drdhaval2785' target='_blank'>drdhaval2785</a> :</b><br/><p>@funderburkjim <br/>great as usual.<br/>I am planning to learn these languages but my official duties don't leave much room for it.<br/>In my spare time yes.</p><hr/><b><a href='https://github.com/drdhaval2785' target='_blank'>drdhaval2785</a> :</b><br/><p>Now the location for the suspect list is [this](<a href="https://drdhaval2785.github.io/dictwiseerrors3-table.html)." target="_blank">https://drdhaval2785.github.io/dictwiseerrors3-table.html).</a><br/>So you can remove your list @funderburkjim to keep your github.io clutter free.<br/>Same with dropbox file of dictwisesorter-v3.php.<br/>This is also in spellcheck repository now.<br/><br/>N.B. - The list has reached the perfection required for a 'wrong entry' file. <br/>So no further enhancements please @gasyoun .</p><hr/><b><a href='https://github.com/gasyoun' target='_blank'>gasyoun</a> :</b><br/><p>I keep silent keep silent and pray you two do not stop. I'll add my two cents in the missing script section. We do not want the words alphabetically sorted (inside each table) do we? `there are 375 such for Wilson 230 such for MW72 456 for CCS only 23 remaining in CAE etc.` - can we have that statistics as well?</p><hr/></body></html>